{"dependencies":[{"name":"@babel/runtime/helpers/asyncToGenerator","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"YisBBiy2Xm9DEVdFebZ2nbgAHBo=","exportNames":["*"],"imports":1}},{"name":"@babel/runtime/helpers/slicedToArray","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"5y7e5+zC7teYEEC6niD9f5zII1M=","exportNames":["*"],"imports":1}},{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":78,"index":78}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"expo-auth-session","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":79},"end":{"line":2,"column":49,"index":128}}],"key":"s3shNvVlaQeRdxbAJkHAKmToFDc=","exportNames":["*"],"imports":1}},{"name":"expo-web-browser","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":129},"end":{"line":3,"column":47,"index":176}}],"key":"qFWzf28Sq0474idIhFBHQFboHaY=","exportNames":["*"],"imports":1}},{"name":"expo-linking","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":177},"end":{"line":4,"column":40,"index":217}}],"key":"UOn5wJuCXvTT9EneNUmI6H0GQgM=","exportNames":["*"],"imports":1}},{"name":"react-native","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":218},"end":{"line":5,"column":40,"index":258}}],"key":"KyzuX10g6ixS9UfynhmjlvCIG3g=","exportNames":["*"],"imports":1}},{"name":"../lib/supabase","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":259},"end":{"line":6,"column":43,"index":302}}],"key":"phU7YuntQKgoAYKWKHVlsIL7LCY=","exportNames":["*"],"imports":1}},{"name":"react/jsx-dev-runtime","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"L9D70Z4hi4aGuui1ysja/oQ5ytI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _jsxFileName = \"/Users/matsumotoshota/Universe/frontend/contexts/AuthContext.tsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  function _interopNamespace(e) {\n    if (e && e.__esModule) return e;\n    var n = {};\n    if (e) Object.keys(e).forEach(function (k) {\n      var d = Object.getOwnPropertyDescriptor(e, k);\n      Object.defineProperty(n, k, d.get ? d : {\n        enumerable: true,\n        get: function () {\n          return e[k];\n        }\n      });\n    });\n    n.default = e;\n    return n;\n  }\n  Object.defineProperty(exports, \"AuthProvider\", {\n    enumerable: true,\n    get: function () {\n      return AuthProvider;\n    }\n  });\n  Object.defineProperty(exports, \"useAuth\", {\n    enumerable: true,\n    get: function () {\n      return useAuth;\n    }\n  });\n  var _babelRuntimeHelpersAsyncToGenerator = require(_dependencyMap[0], \"@babel/runtime/helpers/asyncToGenerator\");\n  var _asyncToGenerator = _interopDefault(_babelRuntimeHelpersAsyncToGenerator);\n  var _babelRuntimeHelpersSlicedToArray = require(_dependencyMap[1], \"@babel/runtime/helpers/slicedToArray\");\n  var _slicedToArray = _interopDefault(_babelRuntimeHelpersSlicedToArray);\n  var _react = require(_dependencyMap[2], \"react\");\n  var _expoAuthSession = require(_dependencyMap[3], \"expo-auth-session\");\n  var AuthSession = _interopNamespace(_expoAuthSession);\n  var _expoWebBrowser = require(_dependencyMap[4], \"expo-web-browser\");\n  var WebBrowser = _interopNamespace(_expoWebBrowser);\n  var _expoLinking = require(_dependencyMap[5], \"expo-linking\");\n  var Linking = _interopNamespace(_expoLinking);\n  var _reactNative = require(_dependencyMap[6], \"react-native\");\n  var _libSupabase = require(_dependencyMap[7], \"../lib/supabase\");\n  var _reactJsxDevRuntime = require(_dependencyMap[8], \"react/jsx-dev-runtime\");\n  WebBrowser.maybeCompleteAuthSession();\n  var AuthContext = /*#__PURE__*/(0, _react.createContext)(undefined);\n  function profileToUser(profile) {\n    if (!profile) return null;\n    return {\n      id: String(profile.id),\n      email: String(profile.email ?? ''),\n      name: String(profile.name ?? 'User'),\n      picture: profile.picture ? String(profile.picture) : undefined,\n      streak: Number(profile.streak ?? 0),\n      coins: Number(profile.coins ?? 0),\n      current_planet: Number(profile.current_planet ?? 0),\n      last_post_date: profile.last_post_date ? String(profile.last_post_date) : undefined\n    };\n  }\n  var AuthProvider = _ref => {\n    _s();\n    var children = _ref.children;\n    var _useState = (0, _react.useState)(null),\n      _useState2 = (0, _slicedToArray.default)(_useState, 2),\n      user = _useState2[0],\n      setUser = _useState2[1];\n    var _useState3 = (0, _react.useState)(true),\n      _useState4 = (0, _slicedToArray.default)(_useState3, 2),\n      loading = _useState4[0],\n      setLoading = _useState4[1];\n    var fetchProfile = /*#__PURE__*/function () {\n      var _ref2 = (0, _asyncToGenerator.default)(function* (authUser) {\n        var _yield$supabase$from$ = yield _libSupabase.supabase.from('profiles').select('*').eq('id', authUser.id).single(),\n          data = _yield$supabase$from$.data,\n          error = _yield$supabase$from$.error;\n        if (error || !data) {\n          return profileToUser({\n            id: authUser.id,\n            email: authUser.email ?? '',\n            name: authUser.user_metadata?.full_name ?? authUser.user_metadata?.name ?? 'User',\n            picture: authUser.user_metadata?.avatar_url,\n            streak: 0,\n            coins: 0,\n            current_planet: 0\n          });\n        }\n        return profileToUser(data);\n      });\n      return function fetchProfile(_x) {\n        return _ref2.apply(this, arguments);\n      };\n    }();\n    var syncSession = /*#__PURE__*/function () {\n      var _ref3 = (0, _asyncToGenerator.default)(function* (session) {\n        if (!session?.user) {\n          setUser(null);\n          return;\n        }\n        var profile = yield fetchProfile(session.user);\n        setUser(profile);\n      });\n      return function syncSession(_x2) {\n        return _ref3.apply(this, arguments);\n      };\n    }();\n    (0, _react.useEffect)(() => {\n      _libSupabase.supabase.auth.getSession().then(_ref4 => {\n        var session = _ref4.data.session;\n        syncSession(session).finally(() => setLoading(false));\n      });\n      var _supabase$auth$onAuth = _libSupabase.supabase.auth.onAuthStateChange((_event, session) => {\n          syncSession(session);\n        }),\n        subscription = _supabase$auth$onAuth.data.subscription;\n      return () => subscription.unsubscribe();\n    }, []);\n    (0, _react.useEffect)(() => {\n      var handleDeepLink = /*#__PURE__*/function () {\n        var _ref5 = (0, _asyncToGenerator.default)(function* (event) {\n          var url = event.url;\n          if (url.includes('#access_token') || url.includes('?access_token')) {\n            var params = new URL(url).hash?.slice(1) || new URL(url).search?.slice(1) || '';\n            var tokenParams = new URLSearchParams(params);\n            var accessToken = tokenParams.get('access_token');\n            var refreshToken = tokenParams.get('refresh_token');\n            if (accessToken && refreshToken) {\n              var _yield$supabase$auth$ = yield _libSupabase.supabase.auth.setSession({\n                  access_token: accessToken,\n                  refresh_token: refreshToken\n                }),\n                data = _yield$supabase$auth$.data,\n                error = _yield$supabase$auth$.error;\n              if (!error && data.session) {\n                yield syncSession(data.session);\n              }\n            }\n          }\n        });\n        return function handleDeepLink(_x3) {\n          return _ref5.apply(this, arguments);\n        };\n      }();\n      var sub = Linking.addEventListener('url', handleDeepLink);\n      return () => sub.remove();\n    }, []);\n    var login = /*#__PURE__*/function () {\n      var _ref6 = (0, _asyncToGenerator.default)(function* () {\n        try {\n          var redirectUrl = _reactNative.Platform.OS === 'web' ? typeof window !== 'undefined' ? window.location.origin + '/' : undefined : AuthSession.makeRedirectUri({\n            path: '/'\n          });\n          var _yield$supabase$auth$2 = yield _libSupabase.supabase.auth.signInWithOAuth({\n              provider: 'google',\n              options: {\n                redirectTo: redirectUrl,\n                skipBrowserRedirect: _reactNative.Platform.OS !== 'web'\n              }\n            }),\n            data = _yield$supabase$auth$2.data,\n            error = _yield$supabase$auth$2.error;\n          if (error) {\n            console.error('Login error:', error);\n            return;\n          }\n          if (_reactNative.Platform.OS !== 'web' && data.url) {\n            var result = yield WebBrowser.openAuthSessionAsync(data.url, redirectUrl ?? '');\n            if (result.type === 'success' && result.url) {\n              var url = result.url;\n              var params = new URL(url).hash?.slice(1) || new URL(url).search?.slice(1) || '';\n              var tokenParams = new URLSearchParams(params);\n              var accessToken = tokenParams.get('access_token');\n              var refreshToken = tokenParams.get('refresh_token');\n              if (accessToken && refreshToken) {\n                yield _libSupabase.supabase.auth.setSession({\n                  access_token: accessToken,\n                  refresh_token: refreshToken\n                });\n              }\n            }\n          }\n        } catch (err) {\n          console.error('Login error:', err);\n        }\n      });\n      return function login() {\n        return _ref6.apply(this, arguments);\n      };\n    }();\n    var logout = /*#__PURE__*/function () {\n      var _ref7 = (0, _asyncToGenerator.default)(function* () {\n        yield _libSupabase.supabase.auth.signOut();\n        setUser(null);\n      });\n      return function logout() {\n        return _ref7.apply(this, arguments);\n      };\n    }();\n    var refreshUser = /*#__PURE__*/function () {\n      var _ref8 = (0, _asyncToGenerator.default)(function* () {\n        var _yield$supabase$auth$3 = yield _libSupabase.supabase.auth.getSession(),\n          session = _yield$supabase$auth$3.data.session;\n        if (session?.user) {\n          var profile = yield fetchProfile(session.user);\n          setUser(profile);\n        }\n      });\n      return function refreshUser() {\n        return _ref8.apply(this, arguments);\n      };\n    }();\n    return /*#__PURE__*/(0, _reactJsxDevRuntime.jsxDEV)(AuthContext.Provider, {\n      value: {\n        user,\n        loading,\n        login,\n        logout,\n        refreshUser\n      },\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 5\n    }, this);\n  };\n  _s(AuthProvider, \"Ui6DLq5vMU2GgsRY6PPBrtV3hI8=\");\n  _c = AuthProvider;\n  var useAuth = () => {\n    _s2();\n    var context = (0, _react.useContext)(AuthContext);\n    if (!context) {\n      throw new Error('useAuth must be used within AuthProvider');\n    }\n    return context;\n  };\n  _s2(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n  var _c;\n  $RefreshReg$(_c, \"AuthProvider\");\n});","lineCount":250,"map":[[30,2,46,0,"Object"],[30,8,46,0],[30,9,46,0,"defineProperty"],[30,23,46,0],[30,24,46,0,"exports"],[30,31,46,0],[31,4,46,0,"enumerable"],[31,14,46,0],[32,4,46,0,"get"],[32,7,46,0],[32,18,46,0,"get"],[32,19,46,0],[33,6,46,0],[33,13,46,0,"AuthProvider"],[33,25,46,0],[34,4,46,0],[35,2,46,0],[36,2,177,0,"Object"],[36,8,177,0],[36,9,177,0,"defineProperty"],[36,23,177,0],[36,24,177,0,"exports"],[36,31,177,0],[37,4,177,0,"enumerable"],[37,14,177,0],[38,4,177,0,"get"],[38,7,177,0],[38,18,177,0,"get"],[38,19,177,0],[39,6,177,0],[39,13,177,0,"useAuth"],[39,20,177,0],[40,4,177,0],[41,2,177,0],[42,2,183,2],[42,6,183,2,"_babelRuntimeHelpersAsyncToGenerator"],[42,42,183,2],[42,45,183,2,"require"],[42,52,183,2],[42,53,183,2,"_dependencyMap"],[42,67,183,2],[43,2,183,2],[43,6,183,2,"_asyncToGenerator"],[43,23,183,2],[43,26,183,2,"_interopDefault"],[43,41,183,2],[43,42,183,2,"_babelRuntimeHelpersAsyncToGenerator"],[43,78,183,2],[44,2,183,2],[44,6,183,2,"_babelRuntimeHelpersSlicedToArray"],[44,39,183,2],[44,42,183,2,"require"],[44,49,183,2],[44,50,183,2,"_dependencyMap"],[44,64,183,2],[45,2,183,2],[45,6,183,2,"_slicedToArray"],[45,20,183,2],[45,23,183,2,"_interopDefault"],[45,38,183,2],[45,39,183,2,"_babelRuntimeHelpersSlicedToArray"],[45,72,183,2],[46,2,1,0],[46,6,1,0,"_react"],[46,12,1,0],[46,15,1,0,"require"],[46,22,1,0],[46,23,1,0,"_dependencyMap"],[46,37,1,0],[47,2,2,0],[47,6,2,0,"_expoAuthSession"],[47,22,2,0],[47,25,2,0,"require"],[47,32,2,0],[47,33,2,0,"_dependencyMap"],[47,47,2,0],[48,2,2,0],[48,6,2,0,"AuthSession"],[48,17,2,0],[48,20,2,0,"_interopNamespace"],[48,37,2,0],[48,38,2,0,"_expoAuthSession"],[48,54,2,0],[49,2,3,0],[49,6,3,0,"_expoWebBrowser"],[49,21,3,0],[49,24,3,0,"require"],[49,31,3,0],[49,32,3,0,"_dependencyMap"],[49,46,3,0],[50,2,3,0],[50,6,3,0,"WebBrowser"],[50,16,3,0],[50,19,3,0,"_interopNamespace"],[50,36,3,0],[50,37,3,0,"_expoWebBrowser"],[50,52,3,0],[51,2,4,0],[51,6,4,0,"_expoLinking"],[51,18,4,0],[51,21,4,0,"require"],[51,28,4,0],[51,29,4,0,"_dependencyMap"],[51,43,4,0],[52,2,4,0],[52,6,4,0,"Linking"],[52,13,4,0],[52,16,4,0,"_interopNamespace"],[52,33,4,0],[52,34,4,0,"_expoLinking"],[52,46,4,0],[53,2,5,0],[53,6,5,0,"_reactNative"],[53,18,5,0],[53,21,5,0,"require"],[53,28,5,0],[53,29,5,0,"_dependencyMap"],[53,43,5,0],[54,2,6,0],[54,6,6,0,"_libSupabase"],[54,18,6,0],[54,21,6,0,"require"],[54,28,6,0],[54,29,6,0,"_dependencyMap"],[54,43,6,0],[55,2,6,43],[55,6,6,43,"_reactJsxDevRuntime"],[55,25,6,43],[55,28,6,43,"require"],[55,35,6,43],[55,36,6,43,"_dependencyMap"],[55,50,6,43],[56,2,9,0,"WebBrowser"],[56,12,9,10],[56,13,9,11,"maybeCompleteAuthSession"],[56,37,9,35],[56,38,9,36],[56,39,9,37],[57,2,30,0],[57,6,30,6,"AuthContext"],[57,17,30,17],[57,33,30,20],[57,37,30,20,"createContext"],[57,43,30,33],[57,44,30,33,"createContext"],[57,57,30,33],[57,59,30,63,"undefined"],[57,68,30,72],[57,69,30,73],[58,2,32,0],[58,11,32,9,"profileToUser"],[58,24,32,22,"profileToUser"],[58,25,32,23,"profile"],[58,32,32,62],[58,34,32,77],[59,4,33,2],[59,8,33,6],[59,9,33,7,"profile"],[59,16,33,14],[59,18,33,16],[59,25,33,23],[59,29,33,27],[60,4,34,2],[60,11,34,9],[61,6,35,4,"id"],[61,8,35,6],[61,10,35,8,"String"],[61,16,35,14],[61,17,35,15,"profile"],[61,24,35,22],[61,25,35,23,"id"],[61,27,35,25],[61,28,35,26],[62,6,36,4,"email"],[62,11,36,9],[62,13,36,11,"String"],[62,19,36,17],[62,20,36,18,"profile"],[62,27,36,25],[62,28,36,26,"email"],[62,33,36,31],[62,37,36,35],[62,39,36,37],[62,40,36,38],[63,6,37,4,"name"],[63,10,37,8],[63,12,37,10,"String"],[63,18,37,16],[63,19,37,17,"profile"],[63,26,37,24],[63,27,37,25,"name"],[63,31,37,29],[63,35,37,33],[63,41,37,39],[63,42,37,40],[64,6,38,4,"picture"],[64,13,38,11],[64,15,38,13,"profile"],[64,22,38,20],[64,23,38,21,"picture"],[64,30,38,28],[64,33,38,31,"String"],[64,39,38,37],[64,40,38,38,"profile"],[64,47,38,45],[64,48,38,46,"picture"],[64,55,38,53],[64,56,38,54],[64,59,38,57,"undefined"],[64,68,38,66],[65,6,39,4,"streak"],[65,12,39,10],[65,14,39,12,"Number"],[65,20,39,18],[65,21,39,19,"profile"],[65,28,39,26],[65,29,39,27,"streak"],[65,35,39,33],[65,39,39,37],[65,40,39,38],[65,41,39,39],[66,6,40,4,"coins"],[66,11,40,9],[66,13,40,11,"Number"],[66,19,40,17],[66,20,40,18,"profile"],[66,27,40,25],[66,28,40,26,"coins"],[66,33,40,31],[66,37,40,35],[66,38,40,36],[66,39,40,37],[67,6,41,4,"current_planet"],[67,20,41,18],[67,22,41,20,"Number"],[67,28,41,26],[67,29,41,27,"profile"],[67,36,41,34],[67,37,41,35,"current_planet"],[67,51,41,49],[67,55,41,53],[67,56,41,54],[67,57,41,55],[68,6,42,4,"last_post_date"],[68,20,42,18],[68,22,42,20,"profile"],[68,29,42,27],[68,30,42,28,"last_post_date"],[68,44,42,42],[68,47,42,45,"String"],[68,53,42,51],[68,54,42,52,"profile"],[68,61,42,59],[68,62,42,60,"last_post_date"],[68,76,42,74],[68,77,42,75],[68,80,42,78,"undefined"],[69,4,43,2],[69,5,43,3],[70,2,44,0],[71,2,46,7],[71,6,46,13,"AuthProvider"],[71,18,46,66],[71,21,46,69,"_ref"],[71,25,46,69],[71,29,46,87],[72,4,46,87,"_s"],[72,6,46,87],[73,4,46,87],[73,8,46,72,"children"],[73,16,46,80],[73,19,46,80,"_ref"],[73,23,46,80],[73,24,46,72,"children"],[73,32,46,80],[74,4,47,2],[74,8,47,2,"_useState"],[74,17,47,2],[74,20,47,26],[74,24,47,26,"useState"],[74,30,47,34],[74,31,47,34,"useState"],[74,39,47,34],[74,41,47,48],[74,45,47,52],[74,46,47,53],[75,6,47,53,"_useState2"],[75,16,47,53],[75,23,47,53,"_slicedToArray"],[75,37,47,53],[75,38,47,53,"default"],[75,45,47,53],[75,47,47,53,"_useState"],[75,56,47,53],[76,6,47,9,"user"],[76,10,47,13],[76,13,47,13,"_useState2"],[76,23,47,13],[77,6,47,15,"setUser"],[77,13,47,22],[77,16,47,22,"_useState2"],[77,26,47,22],[78,4,48,2],[78,8,48,2,"_useState3"],[78,18,48,2],[78,21,48,32],[78,25,48,32,"useState"],[78,31,48,40],[78,32,48,40,"useState"],[78,40,48,40],[78,42,48,41],[78,46,48,45],[78,47,48,46],[79,6,48,46,"_useState4"],[79,16,48,46],[79,23,48,46,"_slicedToArray"],[79,37,48,46],[79,38,48,46,"default"],[79,45,48,46],[79,47,48,46,"_useState3"],[79,57,48,46],[80,6,48,9,"loading"],[80,13,48,16],[80,16,48,16,"_useState4"],[80,26,48,16],[81,6,48,18,"setLoading"],[81,16,48,28],[81,19,48,28,"_useState4"],[81,29,48,28],[82,4,50,2],[82,8,50,8,"fetchProfile"],[82,20,50,20],[83,6,50,20],[83,10,50,20,"_ref2"],[83,15,50,20],[83,22,50,20,"_asyncToGenerator"],[83,39,50,20],[83,40,50,20,"default"],[83,47,50,20],[83,49,50,23],[83,60,50,30,"authUser"],[83,68,50,52],[83,70,50,79],[84,8,51,4],[84,12,51,4,"_yield$supabase$from$"],[84,33,51,4],[84,42,51,34,"supabase"],[84,54,51,42],[84,55,51,42,"supabase"],[84,63,51,42],[84,64,52,7,"from"],[84,68,52,11],[84,69,52,12],[84,79,52,22],[84,80,52,23],[84,81,53,7,"select"],[84,87,53,13],[84,88,53,14],[84,91,53,17],[84,92,53,18],[84,93,54,7,"eq"],[84,95,54,9],[84,96,54,10],[84,100,54,14],[84,102,54,16,"authUser"],[84,110,54,24],[84,111,54,25,"id"],[84,113,54,27],[84,114,54,28],[84,115,55,7,"single"],[84,121,55,13],[84,122,55,14],[84,123,55,15],[85,10,51,12,"data"],[85,14,51,16],[85,17,51,16,"_yield$supabase$from$"],[85,38,51,16],[85,39,51,12,"data"],[85,43,51,16],[86,10,51,18,"error"],[86,15,51,23],[86,18,51,23,"_yield$supabase$from$"],[86,39,51,23],[86,40,51,18,"error"],[86,45,51,23],[87,8,57,4],[87,12,57,8,"error"],[87,17,57,13],[87,21,57,17],[87,22,57,18,"data"],[87,26,57,22],[87,28,57,24],[88,10,58,6],[88,17,58,13,"profileToUser"],[88,30,58,26],[88,31,58,27],[89,12,59,8,"id"],[89,14,59,10],[89,16,59,12,"authUser"],[89,24,59,20],[89,25,59,21,"id"],[89,27,59,23],[90,12,60,8,"email"],[90,17,60,13],[90,19,60,15,"authUser"],[90,27,60,23],[90,28,60,24,"email"],[90,33,60,29],[90,37,60,33],[90,39,60,35],[91,12,61,8,"name"],[91,16,61,12],[91,18,61,14,"authUser"],[91,26,61,22],[91,27,61,23,"user_metadata"],[91,40,61,36],[91,42,61,38,"full_name"],[91,51,61,47],[91,55,61,51,"authUser"],[91,63,61,59],[91,64,61,60,"user_metadata"],[91,77,61,73],[91,79,61,75,"name"],[91,83,61,79],[91,87,61,83],[91,93,61,89],[92,12,62,8,"picture"],[92,19,62,15],[92,21,62,17,"authUser"],[92,29,62,25],[92,30,62,26,"user_metadata"],[92,43,62,39],[92,45,62,41,"avatar_url"],[92,55,62,51],[93,12,63,8,"streak"],[93,18,63,14],[93,20,63,16],[93,21,63,17],[94,12,64,8,"coins"],[94,17,64,13],[94,19,64,15],[94,20,64,16],[95,12,65,8,"current_planet"],[95,26,65,22],[95,28,65,24],[96,10,66,6],[96,11,66,7],[96,12,66,8],[97,8,67,4],[98,8,68,4],[98,15,68,11,"profileToUser"],[98,28,68,24],[98,29,68,25,"data"],[98,33,68,29],[98,34,68,30],[99,6,69,2],[99,7,69,3],[100,6,69,3],[100,22,50,8,"fetchProfile"],[100,34,50,20,"fetchProfile"],[100,35,50,20,"_x"],[100,37,50,20],[101,8,50,20],[101,15,50,20,"_ref2"],[101,20,50,20],[101,21,50,20,"apply"],[101,26,50,20],[101,33,50,20,"arguments"],[101,42,50,20],[102,6,50,20],[103,4,50,20],[103,7,69,3],[104,4,71,2],[104,8,71,8,"syncSession"],[104,19,71,19],[105,6,71,19],[105,10,71,19,"_ref3"],[105,15,71,19],[105,22,71,19,"_asyncToGenerator"],[105,39,71,19],[105,40,71,19,"default"],[105,47,71,19],[105,49,71,22],[105,60,71,29,"session"],[105,67,71,52],[105,69,71,57],[106,8,72,4],[106,12,72,8],[106,13,72,9,"session"],[106,20,72,16],[106,22,72,18,"user"],[106,26,72,22],[106,28,72,24],[107,10,73,6,"setUser"],[107,17,73,13],[107,18,73,14],[107,22,73,18],[107,23,73,19],[108,10,74,6],[109,8,75,4],[110,8,76,4],[110,12,76,10,"profile"],[110,19,76,17],[110,28,76,26,"fetchProfile"],[110,40,76,38],[110,41,76,39,"session"],[110,48,76,46],[110,49,76,47,"user"],[110,53,76,51],[110,54,76,52],[111,8,77,4,"setUser"],[111,15,77,11],[111,16,77,12,"profile"],[111,23,77,19],[111,24,77,20],[112,6,78,2],[112,7,78,3],[113,6,78,3],[113,22,71,8,"syncSession"],[113,33,71,19,"syncSession"],[113,34,71,19,"_x2"],[113,37,71,19],[114,8,71,19],[114,15,71,19,"_ref3"],[114,20,71,19],[114,21,71,19,"apply"],[114,26,71,19],[114,33,71,19,"arguments"],[114,42,71,19],[115,6,71,19],[116,4,71,19],[116,7,78,3],[117,4,80,2],[117,8,80,2,"useEffect"],[117,14,80,11],[117,15,80,11,"useEffect"],[117,24,80,11],[117,26,80,12],[117,32,80,18],[118,6,81,4,"supabase"],[118,18,81,12],[118,19,81,12,"supabase"],[118,27,81,12],[118,28,81,13,"auth"],[118,32,81,17],[118,33,81,18,"getSession"],[118,43,81,28],[118,44,81,29],[118,45,81,30],[118,46,81,31,"then"],[118,50,81,35],[118,51,81,36,"_ref4"],[118,56,81,36],[118,60,81,63],[119,8,81,63],[119,12,81,47,"session"],[119,19,81,54],[119,22,81,54,"_ref4"],[119,27,81,54],[119,28,81,39,"data"],[119,32,81,43],[119,33,81,47,"session"],[119,40,81,54],[120,8,82,6,"syncSession"],[120,19,82,17],[120,20,82,18,"session"],[120,27,82,25],[120,28,82,26],[120,29,82,27,"finally"],[120,36,82,34],[120,37,82,35],[120,43,82,41,"setLoading"],[120,53,82,51],[120,54,82,52],[120,59,82,57],[120,60,82,58],[120,61,82,59],[121,6,83,4],[121,7,83,5],[121,8,83,6],[122,6,85,4],[122,10,85,4,"_supabase$auth$onAuth"],[122,31,85,4],[122,34,85,39,"supabase"],[122,46,85,47],[122,47,85,47,"supabase"],[122,55,85,47],[122,56,85,48,"auth"],[122,60,85,52],[122,61,85,53,"onAuthStateChange"],[122,78,85,70],[122,79,85,71],[122,80,85,72,"_event"],[122,86,85,78],[122,88,85,80,"session"],[122,95,85,87],[122,100,85,92],[123,10,86,6,"syncSession"],[123,21,86,17],[123,22,86,18,"session"],[123,29,86,25],[123,30,86,26],[124,8,87,4],[124,9,87,5],[124,10,87,6],[125,8,85,20,"subscription"],[125,20,85,32],[125,23,85,32,"_supabase$auth$onAuth"],[125,44,85,32],[125,45,85,12,"data"],[125,49,85,16],[125,50,85,20,"subscription"],[125,62,85,32],[126,6,89,4],[126,13,89,11],[126,19,89,17,"subscription"],[126,31,89,29],[126,32,89,30,"unsubscribe"],[126,43,89,41],[126,44,89,42],[126,45,89,43],[127,4,90,2],[127,5,90,3],[127,7,90,5],[127,9,90,7],[127,10,90,8],[128,4,92,2],[128,8,92,2,"useEffect"],[128,14,92,11],[128,15,92,11,"useEffect"],[128,24,92,11],[128,26,92,12],[128,32,92,18],[129,6,93,4],[129,10,93,10,"handleDeepLink"],[129,24,93,24],[130,8,93,24],[130,12,93,24,"_ref5"],[130,17,93,24],[130,24,93,24,"_asyncToGenerator"],[130,41,93,24],[130,42,93,24,"default"],[130,49,93,24],[130,51,93,27],[130,62,93,34,"event"],[130,67,93,56],[130,69,93,61],[131,10,94,6],[131,14,94,12,"url"],[131,17,94,15],[131,20,94,18,"event"],[131,25,94,23],[131,26,94,24,"url"],[131,29,94,27],[132,10,95,6],[132,14,95,10,"url"],[132,17,95,13],[132,18,95,14,"includes"],[132,26,95,22],[132,27,95,23],[132,42,95,38],[132,43,95,39],[132,47,95,43,"url"],[132,50,95,46],[132,51,95,47,"includes"],[132,59,95,55],[132,60,95,56],[132,75,95,71],[132,76,95,72],[132,78,95,74],[133,12,96,8],[133,16,96,14,"params"],[133,22,96,20],[133,25,96,23],[133,29,96,27,"URL"],[133,32,96,30],[133,33,96,31,"url"],[133,36,96,34],[133,37,96,35],[133,38,96,36,"hash"],[133,42,96,40],[133,44,96,42,"slice"],[133,49,96,47],[133,50,96,48],[133,51,96,49],[133,52,96,50],[133,56,96,54],[133,60,96,58,"URL"],[133,63,96,61],[133,64,96,62,"url"],[133,67,96,65],[133,68,96,66],[133,69,96,67,"search"],[133,75,96,73],[133,77,96,75,"slice"],[133,82,96,80],[133,83,96,81],[133,84,96,82],[133,85,96,83],[133,89,96,87],[133,91,96,89],[134,12,97,8],[134,16,97,14,"tokenParams"],[134,27,97,25],[134,30,97,28],[134,34,97,32,"URLSearchParams"],[134,49,97,47],[134,50,97,48,"params"],[134,56,97,54],[134,57,97,55],[135,12,98,8],[135,16,98,14,"accessToken"],[135,27,98,25],[135,30,98,28,"tokenParams"],[135,41,98,39],[135,42,98,40,"get"],[135,45,98,43],[135,46,98,44],[135,60,98,58],[135,61,98,59],[136,12,99,8],[136,16,99,14,"refreshToken"],[136,28,99,26],[136,31,99,29,"tokenParams"],[136,42,99,40],[136,43,99,41,"get"],[136,46,99,44],[136,47,99,45],[136,62,99,60],[136,63,99,61],[137,12,100,8],[137,16,100,12,"accessToken"],[137,27,100,23],[137,31,100,27,"refreshToken"],[137,43,100,39],[137,45,100,41],[138,14,101,10],[138,18,101,10,"_yield$supabase$auth$"],[138,39,101,10],[138,48,101,40,"supabase"],[138,60,101,48],[138,61,101,48,"supabase"],[138,69,101,48],[138,70,101,49,"auth"],[138,74,101,53],[138,75,101,54,"setSession"],[138,85,101,64],[138,86,101,65],[139,18,102,12,"access_token"],[139,30,102,24],[139,32,102,26,"accessToken"],[139,43,102,37],[140,18,103,12,"refresh_token"],[140,31,103,25],[140,33,103,27,"refreshToken"],[141,16,104,10],[141,17,104,11],[141,18,104,12],[142,16,101,18,"data"],[142,20,101,22],[142,23,101,22,"_yield$supabase$auth$"],[142,44,101,22],[142,45,101,18,"data"],[142,49,101,22],[143,16,101,24,"error"],[143,21,101,29],[143,24,101,29,"_yield$supabase$auth$"],[143,45,101,29],[143,46,101,24,"error"],[143,51,101,29],[144,14,105,10],[144,18,105,14],[144,19,105,15,"error"],[144,24,105,20],[144,28,105,24,"data"],[144,32,105,28],[144,33,105,29,"session"],[144,40,105,36],[144,42,105,38],[145,16,106,12],[145,22,106,18,"syncSession"],[145,33,106,29],[145,34,106,30,"data"],[145,38,106,34],[145,39,106,35,"session"],[145,46,106,42],[145,47,106,43],[146,14,107,10],[147,12,108,8],[148,10,109,6],[149,8,110,4],[149,9,110,5],[150,8,110,5],[150,24,93,10,"handleDeepLink"],[150,38,93,24,"handleDeepLink"],[150,39,93,24,"_x3"],[150,42,93,24],[151,10,93,24],[151,17,93,24,"_ref5"],[151,22,93,24],[151,23,93,24,"apply"],[151,28,93,24],[151,35,93,24,"arguments"],[151,44,93,24],[152,8,93,24],[153,6,93,24],[153,9,110,5],[154,6,112,4],[154,10,112,10,"sub"],[154,13,112,13],[154,16,112,16,"Linking"],[154,23,112,23],[154,24,112,24,"addEventListener"],[154,40,112,40],[154,41,112,41],[154,46,112,46],[154,48,112,48,"handleDeepLink"],[154,62,112,62],[154,63,112,63],[155,6,113,4],[155,13,113,11],[155,19,113,17,"sub"],[155,22,113,20],[155,23,113,21,"remove"],[155,29,113,27],[155,30,113,28],[155,31,113,29],[156,4,114,2],[156,5,114,3],[156,7,114,5],[156,9,114,7],[156,10,114,8],[157,4,116,2],[157,8,116,8,"login"],[157,13,116,13],[158,6,116,13],[158,10,116,13,"_ref6"],[158,15,116,13],[158,22,116,13,"_asyncToGenerator"],[158,39,116,13],[158,40,116,13,"default"],[158,47,116,13],[158,49,116,16],[158,62,116,28],[159,8,117,4],[159,12,117,8],[160,10,118,6],[160,14,118,12,"redirectUrl"],[160,25,118,23],[160,28,119,8,"Platform"],[160,40,119,16],[160,41,119,16,"Platform"],[160,49,119,16],[160,50,119,17,"OS"],[160,52,119,19],[160,57,119,24],[160,62,119,29],[160,65,120,13],[160,72,120,20,"window"],[160,78,120,26],[160,83,120,31],[160,94,120,42],[160,97,120,45,"window"],[160,103,120,51],[160,104,120,52,"location"],[160,112,120,60],[160,113,120,61,"origin"],[160,119,120,67],[160,122,120,70],[160,125,120,73],[160,128,120,76,"undefined"],[160,137,120,85],[160,140,121,12,"AuthSession"],[160,151,121,23],[160,152,121,24,"makeRedirectUri"],[160,167,121,39],[160,168,121,40],[161,12,121,42,"path"],[161,16,121,46],[161,18,121,48],[162,10,121,52],[162,11,121,53],[162,12,121,54],[163,10,123,6],[163,14,123,6,"_yield$supabase$auth$2"],[163,36,123,6],[163,45,123,36,"supabase"],[163,57,123,44],[163,58,123,44,"supabase"],[163,66,123,44],[163,67,123,45,"auth"],[163,71,123,49],[163,72,123,50,"signInWithOAuth"],[163,87,123,65],[163,88,123,66],[164,14,124,8,"provider"],[164,22,124,16],[164,24,124,18],[164,32,124,26],[165,14,125,8,"options"],[165,21,125,15],[165,23,125,17],[166,16,126,10,"redirectTo"],[166,26,126,20],[166,28,126,22,"redirectUrl"],[166,39,126,33],[167,16,127,10,"skipBrowserRedirect"],[167,35,127,29],[167,37,127,31,"Platform"],[167,49,127,39],[167,50,127,39,"Platform"],[167,58,127,39],[167,59,127,40,"OS"],[167,61,127,42],[167,66,127,47],[168,14,128,8],[169,12,129,6],[169,13,129,7],[169,14,129,8],[170,12,123,14,"data"],[170,16,123,18],[170,19,123,18,"_yield$supabase$auth$2"],[170,41,123,18],[170,42,123,14,"data"],[170,46,123,18],[171,12,123,20,"error"],[171,17,123,25],[171,20,123,25,"_yield$supabase$auth$2"],[171,42,123,25],[171,43,123,20,"error"],[171,48,123,25],[172,10,131,6],[172,14,131,10,"error"],[172,19,131,15],[172,21,131,17],[173,12,132,8,"console"],[173,19,132,15],[173,20,132,16,"error"],[173,25,132,21],[173,26,132,22],[173,40,132,36],[173,42,132,38,"error"],[173,47,132,43],[173,48,132,44],[174,12,133,8],[175,10,134,6],[176,10,136,6],[176,14,136,10,"Platform"],[176,26,136,18],[176,27,136,18,"Platform"],[176,35,136,18],[176,36,136,19,"OS"],[176,38,136,21],[176,43,136,26],[176,48,136,31],[176,52,136,35,"data"],[176,56,136,39],[176,57,136,40,"url"],[176,60,136,43],[176,62,136,45],[177,12,137,8],[177,16,137,14,"result"],[177,22,137,20],[177,31,137,29,"WebBrowser"],[177,41,137,39],[177,42,137,40,"openAuthSessionAsync"],[177,62,137,60],[177,63,137,61,"data"],[177,67,137,65],[177,68,137,66,"url"],[177,71,137,69],[177,73,137,71,"redirectUrl"],[177,84,137,82],[177,88,137,86],[177,90,137,88],[177,91,137,89],[178,12,138,8],[178,16,138,12,"result"],[178,22,138,18],[178,23,138,19,"type"],[178,27,138,23],[178,32,138,28],[178,41,138,37],[178,45,138,41,"result"],[178,51,138,47],[178,52,138,48,"url"],[178,55,138,51],[178,57,138,53],[179,14,139,10],[179,18,139,16,"url"],[179,21,139,19],[179,24,139,22,"result"],[179,30,139,28],[179,31,139,29,"url"],[179,34,139,32],[180,14,140,10],[180,18,140,16,"params"],[180,24,140,22],[180,27,140,25],[180,31,140,29,"URL"],[180,34,140,32],[180,35,140,33,"url"],[180,38,140,36],[180,39,140,37],[180,40,140,38,"hash"],[180,44,140,42],[180,46,140,44,"slice"],[180,51,140,49],[180,52,140,50],[180,53,140,51],[180,54,140,52],[180,58,140,56],[180,62,140,60,"URL"],[180,65,140,63],[180,66,140,64,"url"],[180,69,140,67],[180,70,140,68],[180,71,140,69,"search"],[180,77,140,75],[180,79,140,77,"slice"],[180,84,140,82],[180,85,140,83],[180,86,140,84],[180,87,140,85],[180,91,140,89],[180,93,140,91],[181,14,141,10],[181,18,141,16,"tokenParams"],[181,29,141,27],[181,32,141,30],[181,36,141,34,"URLSearchParams"],[181,51,141,49],[181,52,141,50,"params"],[181,58,141,56],[181,59,141,57],[182,14,142,10],[182,18,142,16,"accessToken"],[182,29,142,27],[182,32,142,30,"tokenParams"],[182,43,142,41],[182,44,142,42,"get"],[182,47,142,45],[182,48,142,46],[182,62,142,60],[182,63,142,61],[183,14,143,10],[183,18,143,16,"refreshToken"],[183,30,143,28],[183,33,143,31,"tokenParams"],[183,44,143,42],[183,45,143,43,"get"],[183,48,143,46],[183,49,143,47],[183,64,143,62],[183,65,143,63],[184,14,144,10],[184,18,144,14,"accessToken"],[184,29,144,25],[184,33,144,29,"refreshToken"],[184,45,144,41],[184,47,144,43],[185,16,145,12],[185,22,145,18,"supabase"],[185,34,145,26],[185,35,145,26,"supabase"],[185,43,145,26],[185,44,145,27,"auth"],[185,48,145,31],[185,49,145,32,"setSession"],[185,59,145,42],[185,60,145,43],[186,18,146,14,"access_token"],[186,30,146,26],[186,32,146,28,"accessToken"],[186,43,146,39],[187,18,147,14,"refresh_token"],[187,31,147,27],[187,33,147,29,"refreshToken"],[188,16,148,12],[188,17,148,13],[188,18,148,14],[189,14,149,10],[190,12,150,8],[191,10,151,6],[192,8,152,4],[192,9,152,5],[192,10,152,6],[192,17,152,13,"err"],[192,20,152,16],[192,22,152,18],[193,10,153,6,"console"],[193,17,153,13],[193,18,153,14,"error"],[193,23,153,19],[193,24,153,20],[193,38,153,34],[193,40,153,36,"err"],[193,43,153,39],[193,44,153,40],[194,8,154,4],[195,6,155,2],[195,7,155,3],[196,6,155,3],[196,22,116,8,"login"],[196,27,116,13,"login"],[196,28,116,13],[197,8,116,13],[197,15,116,13,"_ref6"],[197,20,116,13],[197,21,116,13,"apply"],[197,26,116,13],[197,33,116,13,"arguments"],[197,42,116,13],[198,6,116,13],[199,4,116,13],[199,7,155,3],[200,4,157,2],[200,8,157,8,"logout"],[200,14,157,14],[201,6,157,14],[201,10,157,14,"_ref7"],[201,15,157,14],[201,22,157,14,"_asyncToGenerator"],[201,39,157,14],[201,40,157,14,"default"],[201,47,157,14],[201,49,157,17],[201,62,157,29],[202,8,158,4],[202,14,158,10,"supabase"],[202,26,158,18],[202,27,158,18,"supabase"],[202,35,158,18],[202,36,158,19,"auth"],[202,40,158,23],[202,41,158,24,"signOut"],[202,48,158,31],[202,49,158,32],[202,50,158,33],[203,8,159,4,"setUser"],[203,15,159,11],[203,16,159,12],[203,20,159,16],[203,21,159,17],[204,6,160,2],[204,7,160,3],[205,6,160,3],[205,22,157,8,"logout"],[205,28,157,14,"logout"],[205,29,157,14],[206,8,157,14],[206,15,157,14,"_ref7"],[206,20,157,14],[206,21,157,14,"apply"],[206,26,157,14],[206,33,157,14,"arguments"],[206,42,157,14],[207,6,157,14],[208,4,157,14],[208,7,160,3],[209,4,162,2],[209,8,162,8,"refreshUser"],[209,19,162,19],[210,6,162,19],[210,10,162,19,"_ref8"],[210,15,162,19],[210,22,162,19,"_asyncToGenerator"],[210,39,162,19],[210,40,162,19,"default"],[210,47,162,19],[210,49,162,22],[210,62,162,34],[211,8,163,4],[211,12,163,4,"_yield$supabase$auth$3"],[211,34,163,4],[211,43,163,40,"supabase"],[211,55,163,48],[211,56,163,48,"supabase"],[211,64,163,48],[211,65,163,49,"auth"],[211,69,163,53],[211,70,163,54,"getSession"],[211,80,163,64],[211,81,163,65],[211,82,163,66],[212,10,163,20,"session"],[212,17,163,27],[212,20,163,27,"_yield$supabase$auth$3"],[212,42,163,27],[212,43,163,12,"data"],[212,47,163,16],[212,48,163,20,"session"],[212,55,163,27],[213,8,164,4],[213,12,164,8,"session"],[213,19,164,15],[213,21,164,17,"user"],[213,25,164,21],[213,27,164,23],[214,10,165,6],[214,14,165,12,"profile"],[214,21,165,19],[214,30,165,28,"fetchProfile"],[214,42,165,40],[214,43,165,41,"session"],[214,50,165,48],[214,51,165,49,"user"],[214,55,165,53],[214,56,165,54],[215,10,166,6,"setUser"],[215,17,166,13],[215,18,166,14,"profile"],[215,25,166,21],[215,26,166,22],[216,8,167,4],[217,6,168,2],[217,7,168,3],[218,6,168,3],[218,22,162,8,"refreshUser"],[218,33,162,19,"refreshUser"],[218,34,162,19],[219,8,162,19],[219,15,162,19,"_ref8"],[219,20,162,19],[219,21,162,19,"apply"],[219,26,162,19],[219,33,162,19,"arguments"],[219,42,162,19],[220,6,162,19],[221,4,162,19],[221,7,168,3],[222,4,170,2],[222,24,171,4],[222,28,171,4,"_reactJsxDevRuntime"],[222,47,171,4],[222,48,171,4,"jsxDEV"],[222,54,171,4],[222,56,171,5,"AuthContext"],[222,67,171,16],[222,68,171,17,"Provider"],[222,76,171,25],[223,6,171,26,"value"],[223,11,171,31],[223,13,171,33],[224,8,171,35,"user"],[224,12,171,39],[225,8,171,41,"loading"],[225,15,171,48],[226,8,171,50,"login"],[226,13,171,55],[227,8,171,57,"logout"],[227,14,171,63],[228,8,171,65,"refreshUser"],[229,6,171,77],[229,7,171,79],[230,6,171,79,"children"],[230,14,171,79],[230,16,172,7,"children"],[231,4,172,15],[232,6,172,15,"fileName"],[232,14,172,15],[232,16,172,15,"_jsxFileName"],[232,28,172,15],[233,6,172,15,"lineNumber"],[233,16,172,15],[234,6,172,15,"columnNumber"],[234,18,172,15],[235,4,172,15],[235,11,173,26],[235,12,173,27],[236,2,175,0],[236,3,175,1],[237,2,175,2,"_s"],[237,4,175,2],[237,5,46,13,"AuthProvider"],[237,17,46,66],[238,2,46,66,"_c"],[238,4,46,66],[238,7,46,13,"AuthProvider"],[238,19,46,66],[239,2,177,7],[239,6,177,13,"useAuth"],[239,13,177,20],[239,16,177,23,"useAuth"],[239,17,177,23],[239,22,177,29],[240,4,177,29,"_s2"],[240,7,177,29],[241,4,178,2],[241,8,178,8,"context"],[241,15,178,15],[241,18,178,18],[241,22,178,18,"useContext"],[241,28,178,28],[241,29,178,28,"useContext"],[241,39,178,28],[241,41,178,29,"AuthContext"],[241,52,178,40],[241,53,178,41],[242,4,179,2],[242,8,179,6],[242,9,179,7,"context"],[242,16,179,14],[242,18,179,16],[243,6,180,4],[243,12,180,10],[243,16,180,14,"Error"],[243,21,180,19],[243,22,180,20],[243,64,180,62],[243,65,180,63],[244,4,181,2],[245,4,182,2],[245,11,182,9,"context"],[245,18,182,16],[246,2,183,0],[246,3,183,1],[247,2,183,2,"_s2"],[247,5,183,2],[247,6,177,13,"useAuth"],[247,13,177,20],[248,2,177,20],[248,6,177,20,"_c"],[248,8,177,20],[249,2,177,20,"$RefreshReg$"],[249,14,177,20],[249,15,177,20,"_c"],[249,17,177,20],[250,0,177,20],[250,3]],"functionMap":{"names":["<global>","profileToUser","AuthProvider","fetchProfile","syncSession","useEffect$argument_0","supabase.auth.getSession.then$argument_0","syncSession._finally$argument_0","supabase.auth.onAuthStateChange$argument_0","<anonymous>","handleDeepLink","login","logout","refreshUser","useAuth"],"mappings":"AAA;AC+B;CDY;qEEE;uBCI;GDmB;sBEE;GFO;YGE;oCCC;mCCC,uBD;KDC;uEGE;KHE;WIE,gCJ;GHC;YGE;2BKC;KLiB;WIG,kBJ;GHC;gBSE;GTuC;iBUE;GVG;sBWE;GXM;CFO;uBcE;CdM"},"hasCjsExports":false},"type":"js/module"}]}